%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#ffcccc', 'edgeLabelBackground':'#ffffee', 'tertiaryColor': '#fff0f0'}}}%%
sequenceDiagram
    actor Client1
    actor Client2
    
    Client1 ->> Client1: getNewQuestion()
    Client1 ->> Server: findQuestionByDifficulty(difficulty, qnsid)
    Client1 ->> Client1: setQuestion(questionData)
    Client1 ->> Server: updateRoomService(room_id, [qnsid])
    Server ->> Server: ormUpdateRoom(room_id, body)
    Server ->> Database: updateRoom(room_id, body)
    Database -->> Server: success

    Server -->> Client1: success
    Client1 ->> MatchingSocket: emit('change-question', qnsid, room_id)
    MatchingSocket -->> Client2: emit('change-question', qnsid)
    Client2 ->> Server: findQuestionById(qnsid)
    Client2 -->> Client2: setQuestion(questionData)